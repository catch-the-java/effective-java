# Item 8. finalizer와 cleaner 사용을 피하라


# 자바의 두 가지 객체 소멸자 
## 1. finalizer
- finalizer는 예측할 수 없고, 상황에 따라 위험할 수 있어 일반적으로 불필요
- 회수가 제멋대로 지연되어 OutOfMemoryError를 내며 죽을 수도 있다. 
- 심각한 보안문제
- 나름의 쓰임새가 있지만, 기본적으로는 "**쓰지 말아야 한다**"


## 2. cleaner 
- cleaner는 finalizer보다 덜 위험하지만, 여전히 예측 X, 느림, 일반적으로 불필요
- 자신을 수행할 스레드를 제어할 수 있다는 점에서 finalizer보다는 낫다.

## 공통점
- 두 가지 모두 즉시 수행된다는 보장이 없다. 
- 상태를 영구적으로 수정하는 작업에서는 절대 finalizer나 cleaner에 의존해서는 안된다. 
- 심각한 성능 문제를 동반한다.  

## 쓰임새
- close 메서드를 호출하지 않는 것에 대비한 **안전망 역할**
    - ex) FileInputStream 등
    - 클라이언트가 close를 해주지 않을 것을 대비해 finalizer를 제공한다. 
- 네이티브 피어와 연결된 객체
    - 네이티브 피어는 일반 자바 객체가 네이티브 메서드를 통해 기능을 위임한 네이티브 객체이다.
    - 자바 객체가 아니라서 가비지 컬렌터는 이 존재를 모른다. 
