# item 71 필요 없는 검사 예외 사용은 피하라

## 검사예외

결과를 코드로 반환하거나 비검사 예외를 던지느 ㄴ것과 달리, 검사 예외는 발생한 문제를 프로그래머가 처리하여 안정성을 높이게 해준다.

(다만 과하면 쓰기 불편한 API가 된다.)

이를 사용해야 하는 상황은 다음과 같다.

1. API를 제대로 사용하여도 발생할 수 있는 예외
2. 프로그래머가 의미 있는 조치를 취할 수 있는 경우

이 두가지를 만족하지 않는다면 비검사 예외로 던지는 편이 낫다.

검사예외가 프로그래머에게 지우는 부담은 메서드가 단 하나의 검사 예외만 던질 때가 특히 크다.

그 하나의 예외 때문에 API 사용자는 try 블록을 추가해야하고 스트림에서 직접 사용하지 못한다.



## 검사 예외 회피 방법

1. 가장 좋은 방법은 적절한 결과 타입을 담은 옵셔널을 반환하는 것이다. 
   검사 예외를 던지는 대신 단순히 빈 옵셔널을 반환하면 된다. 이 방식의 단점은 예외가 발생한 이유를 알려주는 부가 정보를 담을 수 없다.

2. 검사 예외를 던지는 메서드를 2개로 쪼개 비검사 예외로 바꿀 수 있다.
   이 방식에서 첫 번째 메서드는 예외가 던져질지 여부를 boolean 값으로 반환한다.

```java
try {
  obj.action(args);
} catch (TheCheckedException e) {
  //예외사항에 대처
}

//리팩토링 후
if (obj.actionPermitted(args)) {
  obj.action(args);
} else {
  ...// 예외 상황에 대처한다.
}
```

하지만 아래 리팩토링 방식도 actionPermitted도 상태 검사 메서드에 해당하므로 item 69에서 나타난 단점이 그대로 적용되니 조심하자.