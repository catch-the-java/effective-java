# item 41 정의하려는 것이 타입이라면 마커 인터페이스를 사용하라

## 마커 인터페이스?

아무 메서드도 담고있지 않고 단지 자신을 구현하는 클래스가 특정 속성을 가짐을 표현하는 인터페이스를 의미한다. 대표적인 예로 Serializble 인터페이스가 있다.

마커 애너테이션이 들장하며 구식 방법 같지만 더 낫다.

1. 마커 인터페이스는 이를 구현한 클래스의 인스턴스들을 구분하는 타입으로 쓸 수 있으나, 마커 애너테이션은 그렇지 않다.
   타입이기 때문에 런타임에 발견되야할 오류를 컴파일 타임에 발견할 수 있다.(예를들어 ObjectOutputStream.writeObject 메서드)

2. 적용 대상을 더 정밀하게 적용시킬 수 있다.

   예를들어 특정 인터페이스를 상속받은 클래스에만 적용하고 싶은 마커가 있다고 가정했을때 이 마커를 인터페이스로 정의했다면 마킹하고 싶은 인터페이스를 구현만 하면 된다. 그러면 자동으로 마킹된 타입은 그 인터페이스의 하위 타입임이 보장된다.(애너테이션으로는 이렇게 세밀하게 조절하기 힘들다.)



## Set 인터페이스

Set 인터페이스도 일종의 마커 인터페이스로 볼 수 있다. Set은 Collection의 하위타입에만 적용시킬 수 있으며 정의된 메서드 외에는 별로 추가된것이 없다.

보통은 마커 인터페이스로 생각되지 않는데 add, equals등 Collection의 메서드 몇 개의 규약을 살짝 수정 했기 때문이다.

하지만 특정 인터페이스의 하위 타입에만 적용 시킬 수 있으며 아무 규약에도 손대지 않은 마커 인터페이스는 충분히 존재할 수 있다. 

다음과 같은 상황에 사용 가능 할 것이다.

1. 객체의 특정 부분을 불변식으로 규정하거나 사실을 명시하는 용도로 사용
2. 그 타입의 인스턴스는 다른 클래스의 특정 메서드가 처리할 수 있따는 사실을 명시하는 용도



## 마커 인터페이스가 무조건 좋은것인가?

마커 애너테이션이 마커 인터페이스보다 더 나은 상황이 있는데 거대한 애너테이션 시스템의 지원을 받기 때문이다.

애너테이션을 적극활용하는 프레임워크에서는 마커 애너테이션을 사용하는 것이 일관성을 지키는데에 더 유리하다.

분류를 해보자.

1. 마커 애터테이션이 유리한 상황
   1. 클래스와 인터페이스 외의 프로그램 요소에 마킹해야할 경우(필수)
   2. 마커 인터페이스가 유리한 상황이 절대 없는 경우
   3. 애너테이션을 적극 활용하는 프레임워크의 경우
2. 마커 인터페이스가 유리한 상황
   1. 마킹이 된 객체를 매개변수로 받는 메서드를 작성할 일이 있는 경우

그러므로 무조건 좋지 않으니 잘 고민하고 쓰면 된다.